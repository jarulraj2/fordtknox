var ClickStream=function(){"use strict";for(var o={browserHeight:"bh",browserWidth:"bw",url:"url",visitorId:"vid",sessionId:"sid",navigationstartTS:"nt",domContentLoadTS:"dt",pageLoadTS:"pt",ctaTS:"ct",timezone:"tz",networkSpeed:"ns",utm_source:"us",utm_campaign:"uc",utm_medium:"um",language:"lg",cookieSupport:"cs",colorDepth:"cd",corelationId:"cid",referrer:"r",userType:"ut",internalCampaignid:"iCamId",campaignid:"camId",previousPage:"ppn",currentPage:"cpn",isAppUser:"isau"},e=0;e<=250;e++)o["eVar"+e]="e"+e;for(var n=0;n<=100;n++)o["prop"+n]="p"+n;function a(e){if(!e)return null;try{var n=sessionStorage.getItem(e);return JSON.parse(n)}catch(e){return null}}function c(e,n){if(e&&n)try{n=JSON.stringify(n),sessionStorage.setItem(e,n)}catch(e){return}}function u(e,n,t){var r,o;o=t?((r=new Date).setTime(r.getTime()+t),"; expires="+r.toGMTString()):"",document.cookie=e+"="+n+o+"; path=/"}function d(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}function i(e){var n,t,r=null!=(n=new RegExp(e+"=([^;]+)").exec(document.cookie))?unescape(n[1]):null,o=void 0,i=r;if("cs_vid"===e)s=r?"REPEAT":(r=d(),"NEW"),i=r,o=31536e6;else if("cs_sid"===e){try{r?(t=JSON.parse(r),s=t.userType,r=t.uuid):(i={uuid:r=d(),userType:s},i=JSON.stringify(i))}catch(e){}o=18e5}return u(e,i,o),r}function t(e){return new URL(window.location.href).searchParams.get(e)}var s=null,p=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,m=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=(i("cs_vid"),i("cs_sid"),window.performance.timing.navigationStart,window.performance.timing.domContentLoadedEventEnd,window.performance.timing.loadEventEnd,(new Date).getTimezoneOffset()),f=navigator.connection?navigator.connection.effectiveType:"",g=t("utm_source")||"",v=t("utm_campaign")||"",w=t("utm_medium")||"",h=window.navigator.language,x=window.navigator.cookieEnabled,y=window.screen.colorDepth,E=null,T=t("icid")||"",S=t("cid")||"",_="undefined"!=typeof MyAirtelAppReact;window.onload=function(){E=d(),u("cs_cid",E)};function b(e){var n={browserHeight:p,browserWidth:m,url:encodeURIComponent(location.href),visitorId:i("cs_vid"),sessionId:i("cs_sid"),navigationstartTS:window.performance.timing.navigationStart,domContentLoadTS:window.performance.timing.domContentLoadedEventEnd,pageLoadTS:window.performance.timing.loadEventEnd,timezone:l,networkSpeed:f,utm_source:g,utm_campaign:v,utm_medium:w,language:h,cookieSupport:x,colorDepth:y,corelationId:E,userType:s,referrer:encodeURIComponent(document.referrer),internalCampaignid:T,campaignid:S,isAppUser:_},t=e.eVar0||"";n.currentPage="",n.previousPage="";var r=function(e){var n=void 0,t=void 0,r=void 0,o=a("aa-pi");o?(t=o.cpn,r=o.ppn):t=r="",n=!e||t&&e===t?(e=t,r):t;var i={cpn:e,ppn:n};return c("aa-pi",i),i}(t);return r&&(n.currentPage=r.cpn,n.previousPage=r.ppn),n}function C(e,n,t){e[n]=e[n]||t}function I(e,t){var n=e.headers||{},r=e.body,o=e.method||(r?"POST":"GET"),i=!1,a=e.cors&&window.XDomainRequest&&!/MSIE 1/.test(navigator.userAgent)?new XDomainRequest:window.XMLHttpRequest?new XMLHttpRequest:void 0;function c(e,n){return function(){i||(t(void 0===a.status?e:a.status,0===a.status?"Error":a.response||a.responseText||n,a),i=!0)}}a.open(o,e.url,!0);var u=a.onload=c(200);a.onreadystatechange=function(){4===a.readyState&&u()},a.onerror=c(null,"Error"),a.ontimeout=c(null,"Timeout"),a.onabort=c(null,"Abort"),r&&(C(n,"X-Requested-With","XMLHttpRequest"),window.FormData&&r instanceof window.FormData||C(n,"Content-Type","application/x-www-form-urlencoded"));for(var d,s,p=0,m=L.length;p<m;p++)e[d=L[p]]&&(a[d]=e[d]);for(s in n)a.setRequestHeader(s,n[s]);return a.send(r),a}function R(e){var n=b(e);if(null!=e)for(var t in e)n[t]=e[t];var r=function(e,n){var t,r="";for(t in n)n.hasOwnProperty(t)&&(r+=o[t]+"="+n[t]+"&");return encodeURI(e+r)}("https://digianalytics.airtel.in/analytics/pixel?",n);I({method:"GET",url:r},function(e,n){})}var L=["responseType","withCredentials","timeout","onprogress"],k=[],r=function e(n){if(!n)return null;var t=null;try{return(t=n.getAttribute("data-analytics")||n.dataset&&n.dataset.analytics)||e(n.parentElement)}catch(e){console.log("error occurred in finding attribute: ",e)}return t};document.addEventListener("click",function(e){var n=(e=e||window.event).target,t=r(n);if(t)try{t=JSON.parse(t),P.trackEvent(t)}catch(e){}},!1);var D=void 0,P={trackEvent:function(e){if(e){var n,t=void 0;try{D=e.prop0||D||"";var r,o,i=t=a("aa-"+D.toLowerCase())||{};for(r in e)i[r]=e[r];for(o in i){/^evar/i.test(o)&&delete i[o]}c("aa-"+D.toLowerCase(),i)}catch(e){t={}}for(n in e)t[n]=e[n];t.ctaTS=(new Date).getTime(),k.push(t),function e(){0<window.performance.timing.loadEventEnd?(k.forEach(function(e){try{R(e)}catch(e){console.log("fireEvent error: "+e)}}),k.length=0):setTimeout(function(){e()},300)}()}}};return P}();
